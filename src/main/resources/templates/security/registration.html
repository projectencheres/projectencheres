<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{modele-page :: layout('Registration',~{::link} , ~{::#content-wrapper})}">
    <head>
        <meta charset="UTF-8" />
        <title>Registration Page</title>
        <link rel="stylesheet" href="css/output.css" />
    </head>
    <body>
        <div id="content-wrapper">
            <form th:action="@{/inscription}" method="post" th:object="${utilisateur}" class="mt-4 mb-8">
                <div class="flex flex-col gap-8">
                    <p class="text-h2 text-center w-full">Mon profil</p>

                    <div class="grid grid-cols-1 gap-2 md:grid-cols-2 [&>div]:flex [&>div]:flex-row [&>div]:justify-center [&>div>label]:w-[120px]">
                        <div>
                            <label for="pseudo">Psuedo: </label>
                            <div>
                                <input type="text" name="pseudo" id="pseudo" th:field="*{pseudo}" required />
                            </div>
                            <span class="text-red-500" th:if="${#fields.hasErrors('pseudo')}" th:errors="*{pseudo}"></span>
                        </div>

                        <div>
                            <label for="nom">Nom: </label>
                            <div>
                                <input type="text" name="nom" id="nom" th:field="*{nom}" />
                            </div>
                        </div>

                        <div>
                            <label for="prenom">Prenom: </label>
                            <div>
                                <input type="text" name="prenom" id="prenom" th:field="*{prenom}" />
                            </div>
                        </div>

                        <div>
                            <label for="email">Email: </label>
                            <div>
                                <input type="email" name="email" id="email" th:field="*{email}" required />
                            </div>
                            <span class="text-red-500" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>
                        </div>

                        <div>
                            <label for="phone">Telephone: </label>
                            <div>
                                <input type="tel" name="phone" id="phone" th:field="*{telephone}" placeholder="0xxxxxxxxx" pattern="[0-9]{10}" />
                            </div>
                            <span class="text-red-500" th:if="${#fields.hasErrors('telephone')}" th:errors="*{telephone}"></span>
                        </div>

                        <div>
                            <label for="rue">Rue: </label>
                            <div>
                                <input type="text" name="rue" id="rue" th:field="*{rue}" />
                            </div>
                            <span class="text-red-500" th:if="${#fields.hasErrors('rue')}" th:errors="*{rue}"></span>
                        </div>

                        <div>
                            <label for="codePostal">Code postal: </label>
                            <div>
                                <input type="text" name="codePostal" id="codePostal" th:field="*{codePostal}" />
                            </div>
                            <span class="text-red-500" th:if="${#fields.hasErrors('codePostal')}" th:errors="*{codePostal}"></span>
                        </div>

                        <div>
                            <label for="ville">Ville: </label>
                            <div>
                                <input type="text" name="ville" id="ville" th:field="*{ville}" />
                            </div>
                            <span class="text-red-500" th:if="${#fields.hasErrors('ville')}" th:errors="*{ville}"></span>
                        </div>

                        <div>
                            <label for="motDePasse">Mot de Passe: </label>
                            <div>
                                <input type="password" name="motDePasse" id="motDePasse" th:field="*{motDePasse}" required />
                            </div>
                            <span class="text-red-500" th:if="${#fields.hasErrors('motDePasse')}" th:errors="*{motDePasse}"></span>
                        </div>

                        <div>
                            <label for="confirmation">Confirmation: </label>
                            <div>
                                <input type="password" name="motDePasseConfirmation" id="confirmation" required />
                            </div>
                        </div>
                        <div th:if="${passwordMismatch}" class="error-message">The passwords do not match.</div>

                        <div>
                            <span th:if="${pseudoOrEmailError}" th:text="${pseudoOrEmailError}"></span>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <label for="credit">Credit: </label>
                        <span>0.0</span>
                    </div>

                    <div class="flex justify-center">
                        <div class="flex justify-center gap-16 max-w-[250px]">
                            <div class="btn">
                                <button class="mx-8" type="submit" name="action" value="create">Creer</button>
                            </div>
                            <div class="btn">
                                <button class="mx-8" type="submit" name="action" value="cancel">Annuler</button>
                            </div>
                        </div>
                    </div>

                </div>

            </form>
        </div>
    </body>
</html>
